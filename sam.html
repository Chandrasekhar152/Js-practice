<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ROCK_PAPER_SESSIOR</title>
  </head>
  <body>
    <p>ROCK paper Secissor</p>
    <button
      onclick="
        playGame(`rock`);
      "
    >
      ROCK
    </button>

    <button
      onclick="
        playGame(`paper`);
      "
    >
      PAPER
    </button>

    <button
      onclick="
        playGame(`sessior`);
      "
    >
      SEISSOR
    </button>

    <!-- FIX 1 & 2: no playGame(`restart`), just reset score fields -->
    <button
      onclick="
        score.win = 0;
        score.lose = 0;
        score.tie = 0;
        alert('Score restarted!');
      "
    >
      restart
    </button>
  </body>

  <script>
    // keep const, we don't reassign score (we only change its properties)
    const score = {
      win: 0,
      lose: 0,
      tie: 0,
    };

    let computerMove = "";
    let result = "";

    function playGame(myMove) {
      // FIX 3: call getComputerMove ONE time only
      const computeGuess = getComputerMove();
      console.log(computeGuess);

      if (myMove === `rock`) {
        if (computerMove == `rock`) {
          result = `tie`;
        } else if (computerMove == `paper`) {
          result = `You lose`;
        } else {
          result = `You won`;
        }
      } else if (myMove === `paper`) {
        // removed extra getComputerMove() here
        if (computerMove == `paper`) {
          result = `tie`;
        } else if (computerMove == `sessior`) {
          result = `You lose`;
        } else {
          result = `You won`;
        }
      } else if (myMove === `sessior`) {
        // removed extra getComputerMove() here
        if (computerMove == `sessior`) {
          result = `tie`;
        } else if (computerMove == `rock`) {
          result = `You lose`;
        } else {
          result = `You won`;
        }
      }

      // score update (your logic was right, only formatting changed)
      if (result === 'tie') {
        score.tie = score.tie + 1;
      } else if (result === `You won`) {
        score.win = score.win + 1;
      } else {
        score.lose = score.lose + 1;
      }

      alert(
        `${result}, computer choose ${computerMove}, score ${score.win} win ${score.lose} lose ${score.tie} tie`
      );
    }

    function getComputerMove() {
      let random = Math.random();
      if (random >= 0 && random < 1 / 3) {
        computerMove = `rock`;
      } else if (random >= 2 / 3 && random < 1) {
        computerMove = `paper`;
      } else {
        computerMove = `sessior`;
      }
      return computerMove;
    }
  </script>
</html>
